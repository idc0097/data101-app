{% extends "layout.html" %}

{% block content %}

<!-- Global Mismanaged Plastic Wastes in 2010 and 2019 -->
<div class="container div-container" data-aos="fade-up" data-aos-anchor-placement="top-bottom">
  <div class="row">
    <h4>Global Mismanaged Plastic Wastes in 2010 and 2019</h4>
  </div>
  <div class="row p-2">
    <div class="m-auto">
      <div id="card-contents">
        <p>
          Each country's geographical and waste management policies play a role in the
          mismanaged plastic wastes. In this visualization, 
        </p>
        <select class="form-select w-25 mx-auto" id="mismanaged-select" onchange="changeMap(event)">
          <option value="2010-mismanaged" selected>2010</option>
          <option value="2019-mismanaged">2019</option>
        </select>
        <div id="mismanaged-map-2010" data-aos="zoom-in"></div>
        <div id="mismanaged-map-2019" data-aos="zoom-in"></div>
      </div>
    </div>
  </div>
  <div class="row div-container">
    <p>
      Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nesciunt illum 
      inventore odit ipsa ex dolore ea eveniet nulla. Possimus voluptate ipsum 
      eveniet neque quas ipsa non accusamus perspiciatis, explicabo magni provident, 
      facere vitae rerum, tempora maiores eaque! Facilis dolores fugiat aperiam 
      vitae ducimus explicabo illum temporibus, harum adipisci modi, saepe 
      repudiandae laboriosam perspiciatis ullam sequi culpa minus quae? Rerum 
      alias praesentium iusto officia fugiat adipisci nihil quisquam ut, 
      dolorum reprehenderit possimus, ducimus ex explicabo odio earum. Reiciendis 
      commodi illum consequuntur!
    </p>
    <div id="mismanaged-continents-2019" data-aos="zoom-in"></div>
  </div>
</div> <!--\END-->

<hr class="container" />

<!-- Global Plastic Wastes Emitted to the Ocean in 2010 and 2019 -->
<div class="container div-container" data-aos="fade-up" data-aos-anchor-placement="top-bottom">
  <div class="row">
    <h4>Global Plastic Wastes Emitted to the Ocean in 2010 and 2019</h4>
  </div>
  <div class="row p-2">
    <div class="m-auto">
      <div id="card-contents">
        <p>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nesciunt illum 
          inventore odit ipsa ex dolore ea eveniet nulla. Possimus voluptate ipsum 
          eveniet neque quas ipsa non accusamus perspiciatis, explicabo magni provident, 
          facere vitae rerum, tempora maiores eaque! Facilis dolores fugiat aperiam 
          vitae ducimus explicabo illum temporibus, harum adipisci modi, saepe 
          repudiandae laboriosam perspiciatis ullam sequi culpa minus quae? Rerum 
          alias praesentium iusto officia fugiat adipisci nihil quisquam ut, 
          dolorum reprehenderit possimus, ducimus ex explicabo odio earum. Reiciendis 
          commodi illum consequuntur!
        </p>
        <select class="form-select w-25 mx-auto" id="emitted-select" onchange="changeMap(event)">
          <option value="2010-emitted" selected>2010</option>
          <option value="2019-emitted">2019</option>
        </select>
        <div id="plastic-wastes-map-2010" data-aos="zoom-in"></div>
        <div id="plastic-wastes-map-2019" data-aos="zoom-in"></div>
      </div>
    </div>
  </div>
  <div class="row div-container">
    <p>
      Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nesciunt illum 
      inventore odit ipsa ex dolore ea eveniet nulla. Possimus voluptate ipsum 
      eveniet neque quas ipsa non accusamus perspiciatis, explicabo magni provident, 
      facere vitae rerum, tempora maiores eaque! Facilis dolores fugiat aperiam 
      vitae ducimus explicabo illum temporibus, harum adipisci modi, saepe 
      repudiandae laboriosam perspiciatis ullam sequi culpa minus quae? Rerum 
      alias praesentium iusto officia fugiat adipisci nihil quisquam ut, 
      dolorum reprehenderit possimus, ducimus ex explicabo odio earum. Reiciendis 
      commodi illum consequuntur!
    </p>
    <div id="plastic-wastes-continents-2019" data-aos="zoom-in"></div>
  </div>
</div> <!--\END-->

<!-- Get data from routes.py -->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
  var continents1Bar = {{ continents1JSON | safe }};
  var continents2Bar = {{ continents2JSON | safe }};
  var countries1_2010_Map = {{ map1_2010_JSON | safe }};
  var countries1_2019_Map = {{ map1_2019_JSON | safe }};
  var countries2_2010_Map = {{ map2_2010_JSON | safe }};
  var countries2_2019_Map = {{ map2_2019_JSON | safe }};

  // default plot of mismanaged wastes is the 2010 data
  Plotly.plot('mismanaged-map-2010', countries1_2010_Map, {});
  // default plot of emitted wastes is the 2010 data
  Plotly.plot('plastic-wastes-map-2010', countries2_2010_Map, {});
  function changeMap(event) {
    var div12010 = document.getElementById('mismanaged-map-2010');
    var div12019 = document.getElementById('mismanaged-map-2019');
    var div22010 = document.getElementById('plastic-wastes-map-2010');
    var div22019 = document.getElementById('plastic-wastes-map-2019');

    if (event.target.value === "2010-mismanaged") {
      div12019.style.display = 'none';
      div12010.style.display = 'block';
      Plotly.plot('mismanaged-map-2010', countries1_2010_Map, {});
    }
    else if (event.target.value === "2019-mismanaged") {
      div12010.style.display = 'none';
      div12019.style.display = 'block';
      Plotly.plot('mismanaged-map-2019', countries1_2019_Map, {});
    }
    if (event.target.value === "2010-emitted") {
      div22019.style.display = 'none';
      div22010.style.display = 'block';
      Plotly.plot('plastic-wastes-map-2010', countries2_2010_Map, {});
    }
    else if (event.target.value === "2019-emitted") {
      div22010.style.display = 'none';
      div22019.style.display = 'block';
      Plotly.plot('plastic-wastes-map-2019', countries2_2019_Map, {});
    }
  }

  Plotly.plot('mismanaged-continents-2019', continents1Bar, {});
  Plotly.plot('plastic-wastes-continents-2019', continents2Bar, {});
</script> <!--\END-->

{% endblock %}